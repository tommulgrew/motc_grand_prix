#title Mot Grand Prix
#file assets/textures.png

#include "library/trig"
#include "assets"
#include "tracks"
#include "models"
#include "gameconfig"
#include "gameplay"
#include "world"
#include "rendergame"

Track[] tracks = new Track[0];

// Deserialize tracks
for (int i = 0; i < trackData.length; i++) {
	Track track = loadTrack(
		new Stream { data = trackData[i] },
		trackNames[i],
		trackFinishlineDistances[i]);
	tracks.add(track);
}

// Setup for race
Track currentTrack = tracks[2];
initRace(currentTrack);

screen(makeimg(SCREEN_WIDTH, SCREEN_HEIGHT));

// Main loop
while (true) {
	drawGame(currentTrack);
	flip();

	interval(1000 / 30);
	updateGame();

	frame++;
}
